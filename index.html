<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			Bounding box aggregation example
		</title><!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" type="text/css"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->

		<style type="text/css">
body {
		  padding-top: 40px;
		  padding-bottom: 40px;
		  background-color: #eee;
		}

		.form-signin {
		  max-width: 800px;
		  padding: 15px;
		  margin: 0 auto;
		}
		.form-signin .form-signin-heading,
		.form-signin .checkbox {
		  margin-bottom: 10px;
		}
		.form-signin .checkbox {
		  font-weight: normal;
		}
		.form-signin .form-control {
		  position: relative;
		  height: auto;
		  -webkit-box-sizing: border-box;
			 -moz-box-sizing: border-box;
				  box-sizing: border-box;
		  padding: 10px;
		  font-size: 16px;
		}
		.form-signin .form-control:focus {
		  z-index: 2;
		}
		.form-signin input[type="email"] {
		  margin-bottom: -1px;
		  border-bottom-right-radius: 0;
		  border-bottom-left-radius: 0;
		}
		.form-signin input[type="password"] {
		  margin-bottom: 10px;
		  border-top-left-radius: 0;
		  border-top-right-radius: 0;
		}
		#areaOutput {
			margin-top: 10px;       
		}
		#areaInput
		{
			margin-bottom:10px;
		}
		#areaInput,#areaOutput{
			height:300px;
		}
		</style>
		
		
	</head>
	<body>
		<div class="container">
			<h1>
				Demonstrator for the aggregating bounding boxes created by <a href="https://annotorious.github.io/">Annotorious</a>
			</h1>
			<form class="form-signin" role="form" action="http://145.100.58.60:12345/merge/api/v1.0/mergeBB" method="post">
				<h2 class="form-signin-heading">
					Add your input bounding boxes here
				</h2>
				<textarea class="form-control" id="areaInput" name="data" placeholder="JSON containing bounding boxes" required="" autofocus=""></textarea> 
				<h2>Example</h2>
				<p>
						Click <a href="#" id="ex1">here</a> to load an example file for <a target="_blank" href="https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199">this original image</a>.
				</p>
				<p>
					Click the button to see the aggregate bounding box data or click the links below to see <br />
					1) <a href="http://145.100.58.60/img/RP-P-OB-24.199_all.jpg" target="_blank"><strong>All</strong> the bounding boxes</a> provided by multiple workers on top of the image <br />
					2) <a href="http://145.100.58.60/img/RP-P-OB-24.199_agg.jpg" target="_blank">The <strong>aggregated bounding boxes</strong></a> on top of the image
				</p>

				 <button id="btnSubmit" class="btn btn-lg btn-primary btn-block" type="submit">Aggregate bounding boxes</button> <!-- <textarea class="form-control" id="areaOutput" placeholder="JSON output" required autofocus></textarea> -->
			</form>
		</div><!-- /container -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
		<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js" type="text/javascript"></script>
		<script>
			var ex1 = "[{	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13426363\",	\"text\": \"none\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.08148148148148149,			\"width\": 0.1537037037037037,			\"y\": 0.19727891156462585,			\"height\": 0.17913832199546487		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/da86b915-1d94-418c-b495-90efae055087\",	\"type\": \"unable\",	\"certainty\": \"4\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13426363\",	\"text\": \"none\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.8555555555555555,			\"width\": 0.12037037037037046,			\"y\": 0.16326530612244897,			\"height\": 0.20408163265306126		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/da86b915-1d94-418c-b495-90efae055087\",	\"type\": \"unable\",	\"certainty\": \"4\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13426363\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.34629629629629627,			\"width\": 0.30185185185185187,			\"y\": 0.10657596371882086,			\"height\": 0.4331065759637188		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/da86b915-1d94-418c-b495-90efae055087\",	\"type\": \"name\",	\"certainty\": \"4\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"14265126\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.0748792270531401,			\"width\": 0.15942028985507248,			\"y\": 0.17159763313609466,			\"height\": 0.31065088757396453		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/cf8eed7d-3782-49c4-884e-75f67c8fa058\",	\"type\": \"name\",	\"certainty\": \"5\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"14265126\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.8381642512077294,			\"width\": 0.15700483091787443,			\"y\": 0.1834319526627219,			\"height\": 0.20414201183431951		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/cf8eed7d-3782-49c4-884e-75f67c8fa058\",	\"type\": \"name\",	\"certainty\": \"5\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"14265126\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.3164251207729469,			\"width\": 0.4541062801932367,			\"y\": 0.0650887573964497,			\"height\": 0.591715976331361		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/cf8eed7d-3782-49c4-884e-75f67c8fa058\",	\"type\": \"name\",	\"certainty\": \"5\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"15137675\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.28502415458937197,			\"width\": 0.4323671497584541,			\"y\": 0.17751479289940827,			\"height\": 0.39940828402366857		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/f67a3d9d-2151-47c5-a2ce-7e7d3485d063\",	\"type\": \"name\",	\"certainty\": \"3\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13567356\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.30193236714975846,			\"width\": 0.46135265700483086,			\"y\": 0.10650887573964497,			\"height\": 0.5384615384615384		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/38342247-0cbe-4d5b-9356-4f583998a814\",	\"type\": \"name\",	\"certainty\": \"5\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13567356\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.8599033816425121,			\"width\": 0.12318840579710144,			\"y\": 0.14497041420118342,			\"height\": 0.20414201183431954		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/38342247-0cbe-4d5b-9356-4f583998a814\",	\"type\": \"name\",	\"certainty\": \"5\"}, {	\"src\": \"https://www.rijksmuseum.nl/assetimage2.jsp?id=RP-P-OB-24.199\",	\"workerID\": \"13567356\",	\"text\": \"rose\",	\"shapes\": [{		\"type\": \"rect\",		\"geometry\": {			\"x\": 0.08695652173913043,			\"width\": 0.15217391304347827,			\"y\": 0.1863905325443787,			\"height\": 0.24556213017751477		}	}],	\"context\": \"https://tasks.crowdflower.com/assignments/38342247-0cbe-4d5b-9356-4f583998a814\",	\"type\": \"name\",	\"certainty\": \"5\"}]";
			
		
			$("#ex1").click(function(){
				$("#areaInput").val(ex1);
			});
		</script>
	</body>
</html>
